
---
## 제 4 정규형
![](../../../../image/Pasted%20image%2020241114104925.png)
- 원래 관계 데이터베이스에서는 애트리뷰트의 값으로 반복 그룹(repeating group)을 허용하지 않지만 이해를 돕기 위해 이렇게 표현(비정규 릴레이션) 
- 각 과목은 어떤 교수가 가르칠 수 있고, 교재는 명세 된 교재만 사용할 수 있음 
- 교수와 교재는 아무런 관계가 없음 
- 특정 과목을 어떤 교수가 담당하더라도 사용하는 교재는 모두 같음을 의미

![](../../../../image/Pasted%20image%2020241114104959.png)
- 정규 릴레이션, 기본키{과목,교수,교재} 
- 특별한 함수 종속이 없음 
- BCNF를 만족함, {과목,교수,교재} 후보키외에는 어떠한 결정자 애트리뷰트가 없음 
- 삽입, 갱신, 삭제 이상이 발생 예를 들어, 데이터베이스 과목을 새로운 교수 P4가 담당하게 되었다면, 데이터베이스 교과목에 T3,T4,T5 에 대해 각각 투플 하나씩 모두 3개의 투플을 삽입해야 함. 이것은 <교수>와 <교재>가 서로 무관한 것을 한 릴레이션으로 묶어서 표현한 것이 원인

#### 다치 종속(MVD:Multivalued Dependency)
![](../../../../image/Pasted%20image%2020241114105258.png)
- 일반적으로 A ->> B일 때 애트리뷰트 B는 A에 다치 종속된다고 읽거나 A는 B를 다치 결정(multidetermine) 한다고 읽는다.
- CPT 릴레이션은 다음과 같은 MVD를 가지고 있다
	- 과목 ->> 교수
	- 과목 ->> 교재
	- 과목 교수의 의미는 과목 애트리뷰트가 교수 애트리뷰트의 집합을 결정 한다는 것이다. 즉, 파일구조는 {P1, P2}와 대응한다.
- **다치 종속은 적어도 3개 이상인 릴레이션에서만 존재**한다.
- CPT 릴레이션은 아래와 같이 표현할 수 있다.
	- 과목 ->> 교수 | 교재

![](../../../../image/Pasted%20image%2020241114105556.png)
- 두 릴레이션, 과목교수(과목,교수), 과목교재(과목,교재)로 분해하여 해결 
- 두 릴레이션 모두 BCNF에 속함. 두 릴레이션이 {과목,교수}, {과목,교재} 후보키로만 결정됨 
- 두 릴레이션을 조인하면 CPT 릴레이션으로 복원(무손실분해)

## 제 5 정규형
#### 제5정규형(5NF):
- 4NF를 만족하고, 릴레이션 R에 존재하는 모든 조인 종속(JD)이 릴레 이션 R의 후보키를 통해서만 만족된다면 릴레이션 R은 5 정규형 또는 PJ/NF(Projection- Join Normal Form)에 속한다
#### 조인 종속(JD:Join Dependency):
- 어떤 릴레이션 R의 애트리뷰트에 대한 n의 부분 집합 A1, A2, ..An이 있다고 할 때, 만일 이 릴레이션 R이 그의 프로젝션 A1, A2,…An을 모두 조인한 결과와 똑같게 된다면 R은 조인 종속 (A1, A2,…An)(순환적 제약조건)을 만족한다고 한다.
#### N-분해(n-decomposable) 릴레이션:
- n개 이상의 릴레이션으로 분해해야만 정보 무손실 분해가 되는 것을 말한다.

![](../../../../image/Pasted%20image%2020241114110314.png)
- SCP 릴레이션은 조인 종속 순환적 제약조건 (SC, CP, PS)을 만족하고 있고 따라서 3-분해 릴레이션이다.
- SCP 릴레이션은 5NF가 아니다. 조인 종속이 후보키(SN,CN,PN)을 통해서 만족하는 것 이 아니고 후보키가 아닌 CN,PN,SN을 통해서 조인 종속이 성립하기 때문이다. 반면에 SC, CP, PS는 어떠한 조인 종속도 포함하고 있지 않기때문에 5NF이다.