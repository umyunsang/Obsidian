
---
## 1. 저장 장치 개요
#### 저장 장치의 입출력 병목 문제
- 입출력 병목이란?
	- 저장 장치의 입출력에 과부하가 걸려 있는 상태
	- 저장 장치의 속도가 CPU의 처리 속도에 비해 매우 느린데, 여러 프로세스로부터 유발된 많은 입출력 요청들로 인해 발생
- 입출력 병목을 줄이기 위한 방법
	- 주기억 장치 메모리 늘리기
	- 디스크 캐시 늘리기
	- 디스크 스케줄링
	- 병렬 저장 장치 사용 (RAID)
#### 저장 장치의 데이터 신뢰성 문제
- 데이터 신뢰성
	- 저장 장치의 고장은 데이터 손실 초래 -> 심각한 문제
- 데이터 신뢰성을 높이는 방법
	- 디스크 미러링(disk mirroring)
		- 2개의 동일한 디스크 사용
		- RAID 레벨 1로도 불림
	- RAID(Redudant Array of inexpensive Disks)
		- 여러개의 디스크를 병렬로 연결
		- RAID 레벨 5
			- 디스크를 4개를 쓰지만 3개는 한번에 데이터를 쓰고 나머지 1개에 패리티 블록을 넣어 고장이 난 경우 블록을 복구 할 수 있음
#### 디스크 용량
- 디스크 용량 계산 
	- 실린더 개수 x 실린더당 트랙 수 x 트랙당 섹터 수 x 섹터 크기
#### 디스크 입출력 명령을 처리하는 과정
![](../../../../image/Pasted%20image%2020241211104502.png)
-  프로세서가 논리 블록 번호를 CHS 물리 주소로 바꾸고 장치 제어 및 입출력 시행
- 탐색(seek) 
	- 디스크 헤드를 목표 실린더로 이동
	- 탐색 거리 : 이동하는 실린더 개수
- 회전 지연(rotational latency) 
	- 플래터가 회전하여, 헤드 밑에 목표 섹터가 도달할 때까지 대기 
	- 평균 회전 지연 시간 = ½ 회전 시간
- 전송(transfer) 
	- 디스크 헤드와 호스트 사이의 데이터 전송 
	- 내부 전송과 외부 전송으로 나뉨 
- 오버헤드(overhead) 
	- 디스크 프로세서가 호스트에서 명령을 받고 해석하는 등의 부가 과정
- 디스크 액세스 시간
	- 탐색 시간 + 회전 지연 시간 + 내부 전송 시간
- 입출력 응답 시간
	- 탐색 시간 + 회전 지연 시간 + 전체 전송 시간 + 오버헤드
## 2. 디스크 스케줄링 알고리즘
#### FCFS
: 디스크 큐에 도착한 순서대로 요청들을 처리
![](../../../../image/Pasted%20image%2020241211105908.png)
- 디스크 큐를 검색할 필요 없어 구현이 쉽고 기아가 없음, 공평
- 성능이 좋지 않음
#### SSTF(Shortest Seek Time First)
: 현재 디스크 헤드가 있는 실린더에서 가장 가까운 요청 선택
![](../../../../image/Pasted%20image%2020241211110044.png)
- 탐색 거리가 가장 짧은 것을 선택하기 때문에 성능은 매우 우수
- 디스크 헤드에서 멀리 있는 요청들에 기아 발생 우려
- 바깥쪽 실린더에 대한 요청들은 오래 기다릴 수 있음 (응답 편차 큼)
#### SCAN
![](../../../../image/Pasted%20image%2020241211110658.png)
- 기아 발생을 없애고 균등한 처리를 위해 고안된 알고리즘 
- 맨 바깥쪽 실린더의 요청에서 시작하여 안쪽 실린더로 요청을 처리 후 안쪽 끝까지 이동 
	- > 다시 바깥쪽 방향으로 요청을 처리하면서 끝 실린더까지 이동 
- SSTF에 비해 균등한 입출력 서비스 
- 하지만, 양 끝쪽 실린더의 요청들은 중간에 위치한 요청들보다 선택될 확률 낮음
#### C-SCAN
![](../../../../image/Pasted%20image%2020241211111017.png)
- 중간 실린더의 요청들이 양끝보다 더 높은 확률로 서비스되는 SCAN의 단점 보완 
- **한 방향으로만** 이동하면서 요청 처리
#### LOOK
![](../../../../image/Pasted%20image%2020241211111140.png)
- SCAN 처럼 작동, 맨 끝 실린더로 이동하는 SCAN의 단점 보완 
- 현재 이동 방향에 더 이상의 요청이 없는 경우 즉시 이동 방향 변경
#### C-LOOK
![](../../../../image/Pasted%20image%2020241211111302.png)
- LOOK과 C-SCAN의 결합 
- **한 방향으로만** 서비스 
- 이동 방향에 요청이 없으면 즉각 이동 방향 수정
#### 디스크 알고리즘 특성 비교
![](../../../../image/Pasted%20image%2020241211111413.png)
## 4. 디스크포맷 x
## 5. SSD 저장 장치
#### SSD의 특징
- 플래시 메모리(flash memory)를 저장소로 하는 비휘발성 기억 장치 
- 메모리 계층 구조의 최하위 단에 위치하는 보조 기억 장치 
- 읽기 속도보다 쓰기 속도가 더 오래 걸림 
#### SSD의 용도
- 읽기가 많은 운영체제 코드나 프로그램의 설치에 적합 
- 백업 저장 장치에 적합하지 않음
- 쓰기나 수정 작업이 많은 스왑 영역이나 많은 파일이 임시로 생성되었다가 지워지는 임시 파일 시스템에 적합하지 않음
#### 웨어레벨링(wear leveling, 균등 쓰기 분배)
: 플래시 메모리의 모든 블록에 걸쳐 쓰기를 균등하게 분배, 특정 블록에 과도한 쓰기를 막아, 플래시 메모리의 고장이나 데이터 손실 예방 기법
- SSD 제어기에 의해 실행
	- 블록마다 지우기 횟수 기억, 쓰기 시 지우기 횟수가 가장 적은 블록 선택