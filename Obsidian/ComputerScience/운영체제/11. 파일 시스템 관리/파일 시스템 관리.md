
---
## 1. 파일 시스템과 저장 장치
![[Pasted image 20241202094732.png]]
- 디스크 매체 모듈 
	- 플래터(platter) 
		- 정보가 저장되는 매체, 원형 판(아래 윗면 모두 저장) 
	- 헤드(head) 
		- 플래터 한 면당 하나의 헤드(플래터 한 장에 2개의 헤더) 
		- 플래터에서 정보를 읽고 저장하는 장치 
- 디스크 제어 모듈 
	- 프로세서(processor) 
		- 호스트로부터 명령을 받고 해석하는 하드웨어 처리기 
		- 디스크 매체 모듈 제어, 물리적인 디스크 액세스 진행 
	- 디스크 캐시(disk cache) 
		- 호스트와 디스크 매체 모듈 사이의 전송되는 디스크 블록들이 임시 저장되는 중간 버퍼 역할

![[Pasted image 20241202095010.png]]
- 섹터 : 플래터에 정보가 저장되는 최소 단위, 512바이트 혹은 4096바이트 
- 트랙 : 플래터에 정보가 저장되는 하나의 동심원, 여러 개의 섹터들 포함 
- 실린더 : 같은 반지름을 가진 모든 트랙 집합 
	- 예) 헤드가 8개인 디스크에서 8개의 트랙을 묶어 실린더라고 함 
- 블록 : 운영체제가 파일 데이터를 입출력하는 논리적인 단위. 몇 개의 섹터로 구성
#### 파일 입출력 주소
- 디스크 장치는 **디스크 물리 주소** 사용 
	- 물리 주소(physical disk address) 
		- 디스크의 섹터 위치를 나타내는 주소 
		- CHS(Cylinder-head-sector) 물리 주소 = (cylinder 번호 , head 번호, sector 번호) 
	- 물리 주소의 단위는 섹터 
- 운영체제는 **논리 블록 주소** 사용 
	- 논리 주소(Logical Block Address, LBA) 
		- 저장 매체를 1차원의 연속된 데이터 블록들로 봄
#### 파일 시스템의 정의와 범위
- 파일 시스템 정의
	- 저장매체에 파일을 생성하고 저장하고 읽고 쓰는 운영체제의 기능
- 파일 시스템의 학습 범위
	1. 파일 시스템의 논리 구조 -> 계층 구조
		- 디렉토리와 파일로 이루어지는 트리 형태의 계층 구조
	2. 저장소에 파일 시스템 구축 -> 파일을 어디에 어떻게 저장할 것인가?
		- 저장 매체에 파일을 저장하는 방법과 위치 구성
		- 저장 매체 속의 빈 블록 유지 관리
		- 파일이 저장된 위치 관리 기능 구형
	3. 커널 내 파일 입출력 구현 -> 파일을 읽고 쓰는 등의 기능
	4. 응용프로그램을 위한 파일 시스템 인터페이스(시스템 호출)
#### 파일 시스템 입출력 계층
![[Pasted image 20241202095907.png]]

#### Example of Index and Relative Files
![[Pasted image 20241202101150.png]]

#### 디렉토리 구조
모든 파일에 대한 정보를 포함하는 노드들의 집합을 **파일 시스템**의 관점에서 "파일 디스크립터 테이블" 또는 "아이노드(inode) 테이블"이라고 부릅니다.
1. **아이노드(inode)**:
    - 파일 시스템에서 각 파일이나 디렉토리에 대한 정보를 저장하는 데이터 구조입니다.
    - 일반적으로 다음과 같은 정보를 포함합니다:
        - 파일 크기
        - 파일의 위치(디스크 블록)
        - 소유자 및 권한
        - 생성/수정/접근 시간
    - 파일의 이름은 저장하지 않고, 파일 이름은 별도의 디렉토리 항목에 연결됩니다.
2. **파일 디스크립터 테이블**:
    - 파일을 열면, 운영 체제는 해당 파일을 식별하기 위해 테이블에 관련 정보를 저장합니다.
    - 각 노드는 파일의 상태, 읽기/쓰기 위치, 접근 권한 등을 나타냅니다.
## 디스크 구조
디스크는 **파티션**으로 세분화할 수 있습니다.  
디스크나 파티션은 **파일 시스템 없이(raw)** 사용할 수도 있고, 파일 시스템으로 **포맷**하여 사용할 수도 있습니다.
![[Pasted image 20241204105825.png]]
1. **파티션 (Partition)**:
    - 디스크를 여러 개의 논리적 구획으로 나눈 것입니다.
    - 파티션은 **미니디스크(minidisk)** 또는 **슬라이스**(slice)라고도 불립니다.
2. **파일 시스템(File System)**:
    - 데이터를 조직화하고 저장하기 위해 디스크를 포맷하여 사용합니다.
    - 파일 시스템이 없는 상태(raw)로도 디스크나 파티션을 사용할 수 있지만, 이 경우 데이터 관리가 복잡해질 수 있습니다.
3. **볼륨 (Volume)**:
    - 파일 시스템을 포함하는 엔터티를 **볼륨**이라고 합니다.
    - 각 볼륨은 파일 시스템을 포함하고 있으며, 디바이스 디렉토리 또는 **볼륨 테이블**(volume table of contents)에 해당 파일 시스템 정보를 기록합니다.
