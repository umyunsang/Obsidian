
---
## 1. 프로세스 개요
#### 프로세스 개요
- 프로그램(program) 
	- 하드디스크 등의 저장 매체에 저장. 실행 파일의 형태 
- 프로세스(process) 
	- 프로그램이 메모리에 적재되어 실행 중인 되는 상태
		- 필요한 모든 자원 할당 받음 
		- 자원 : 코드 공간, 데이터 공간, 스택 공간, 힙 공간 -> **4가지 공간으로 나뉜다**
- 프로세스의 특징
	- 운영체제는 프로그램을 메모리 적재하고 프로세스로 다룸 
	- 운영체제는 프로세스에게 실행에 **필요한 메모리 할당**, 이곳에 코드와 데이터 등 적재 
	- 프로세스들은 서로 독립적인 메모리 공간을 가짐. 다른 프로세스의 영역 에 접근 불허
	- 운영체제는 각 프로세스의 메모리 위치와 크기 정보를 관리한다
	- 운영체제는 프로세스마다 고유한 번호(프로세스 ID) 할당 
	- 프로세스의 관한 모든 정보는 커널에 의해 관리 
	- 프로세스는 **실행-대기-잠자기-대기-실행-종료** 등의 생명 주기를 가짐 
	- 프로세스 **생성, 실행, 대기, 종료** 등의 모든 관리는 커널에 의해 수행
#### 프로그램의 다중 인스턴스
- 한 프로그램을 여러 번 실행시키면 어떻게 될까? 
	- 프로그램 실행 시 마다 **독립된 프로세스** 생성 -> 프로세스들을 프로그램의 **다중 인스턴스**라고 부름 
		- 각 프로세스에게 독립된 메모리 공간 할당 
		- 각 프로세스를 별개의 프로세스로 취급
#### CPU 주소 공간
- CPU가 주소선을 통해 액세스할 수 있는 전체 메모리 공간
- 32비트 CPU -> 32개의 주소선 -> 232 개의 주소 -> 232 바이트 - > 4GB 공간

#### 프로세스 구성 - 4개의 메모리 영역
![](../../../../image/Pasted%20image%2020240923100633.png)
1. **코드(code) 영역 <크기 고정>**
	- 실행될 프로그램 코드가 적재되는 영역 
		- 사용자가 작성한 모든 함수의 코드 
		- 사용자가 호출한 라이브러리 함수들의 코드 
2. **데이터(data) 영역 <크기 고정>**
	- 프로그램에서 고정적으로 만든 변수 공간 
		- 전역 변수 공간, 정적 데이터 공간 
		- 사용자 프로그램과 라이브러리 포함 
		- 프로세스 적재 시 할당, 종료 시 소멸 
3. **힙(heap) 영역 <크기 고정 x>**
	- 프로세스의 실행 도중 동적으로 사용할 수 있도 록 할당된 공간 
		- malloc() 등으로 할당받는 공간은 힙 영역에서 할당 
		- 힙 영역에서 아래 번지로 내려가면서 할당 
4. **스택(stack) 영역 <크기 고정 x>**
	- 함수가 실행될 때 사용될 데이터를 위해 할당된 공간 
		- 매개변수들, 지역변수들, 함수 종료 후 돌아갈 주소 등
		- 함수는 호출될 때, 스택 영역에서 위쪽으로 공간 할당 
		- 함수가 return하면 할당된 공간 반환 
	- 함수 호출 외에 프로세스에서 필요 시 사용 가능

#### 프로세스 주소 공간
- 프로세스 주소 공간
	- 프로세스 주소 공간은 **논리 공간(가상 공간)**
- 프로세스 주소 공간의 크기
	- CPU가 액세스할 수 있는 전체 크기
- **프로세스 주소 공간 = 사용자 공간 + 커널 공간**
	- 사용자 공간
		- 프로세스의 코드, 데이터, 힙, 스택 영역이 순서대로 할당되는 공간
	- 커널 공간
		- 프로세스가 시스템 호출을 통해 이용하는 커널 공간
	- 결론 
		- 프로세스의 코드와 데이터는 실행 파일에 결정된 상태로 코드 영역 과 데이터 영역에 적재 -> 실행 중에 크기가 변하지 않음 
		- 프로세스는 사용자 공간의 최대 범위까지 동적할당 받으면서 힙 영 역과 스택 영역을 늘려갈 수 있음