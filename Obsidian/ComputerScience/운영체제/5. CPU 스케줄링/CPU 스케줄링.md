
---
## 1. CPU 스케줄링 개요
- 스케줄링은 왜 필요할까? 
	- 자원에 대한 경쟁이 있는 곳에서 경쟁자 중 하나 선택 
	- 자원 : CPU, 디스크, 프린트, 파일, 데이터베이스 등 
- 컴퓨터 시스템 내 다양한 스케줄링
	- 작업( job) 스케줄링 
		- 배치시스템에서 
		- 대기중인 배치 작업(Job) 중 메모리에 적재할 작업 결정 
	- **CPU 스케줄링** 
		- 프로세스/스레드 중에 하나를 선택하여 CPU 할당 
		- 오늘날 CPU 스케줄링은 스레드 스케줄링 
	- 디스크 스케줄링 
		- 디스크 장치 내에서 
		- 디스크 입출력 요청 중 하나 선택 
	- 프린터 스케줄링 
		- 프린팅 작업 중 하나 선택하여 프린터 할당
#### CPU burst와 I/O burst
- 프로그램의 실행 특성 
	- CPU 연산 작업과 I/O 작업(화면 출력, 키보드, 입력, 파일 입출력 등)이 순차적으로 섞여 
	- CPU-burst – I/O burst – CPU-burst – I/O burst의 반복 ... 
- CPU burst 
	- 프로그램 실행 중 CPU 연산(계산 작업)이 연속적으로 실행되는 상황 
- I/O burst 
	- 프로그램 실행 중 I/O 장치의 입출력이 이루어지는 상황
#### CPU 스케줄링의 정의와 목표
- CPU 스케줄링 
	- 정의 
		- 실행 준비 상태(Ready)의 스레드 중 하나를 선택하는 과정 
	- 기본 목표 
		- CPU 활용률 향상 -> 컴퓨터 시스템 처리율 향상 
	- 컴퓨터 시스템에 따라 CPU 스케줄링의 목표가 다를 수 있다
#### CPU 스케줄링의 기준(criteria)
- 스케줄링 알고리즘의 다양한 목표와 평가 기준 
	- CPU 활용률(CPU utilization) 
		- 전체 시간 중 CPU의 사용 시간 비율, 운영체제 입장 
	- 처리율(throughput) 
		- 단위 시간당 처리하는 스레드 개수, 운영체제 입장 
	- 공평성(fairness) 
		- CPU를 스레드들에게 공평하게 배분, 사용자 입장 
		- 시분할로 스케줄링 
		- 무한정 대기하는 기아 스레드(starving thread)가 생기지 않도록 스케줄 
	- 응답시간(response time) 
		- 대화식 사용자의 경우, 사용자에 대한 응답 시간, 사용자 입장 
	- **대기시간(waiting time)** 
		- 스레드가 준비 큐에서 머무르는 시간, 운영체제와 사용자 입장 
	- 소요 시간(turnaround time) 
		- 프로세스(스레드)가 컴퓨터 시스템에 도착한 후(혹은 생성된 후) 완료될 때까지 걸린 시간, 사용자 입장 
		- 배치 처리 시스템에서 주된 스케줄링의 기준 
	- 시스템 정책(policy enforcement) 우선 
		- 컴퓨터 시스템의 특별한 목적을 달성하기 위한 스케줄링, 운영체제 입장 
		- 예) 실시간 시스템에서는 스레드가 완료 시한(deadline) 내에 이루어지도록 하는 정책 
		- 예) 급여 시스템에서는 안전을 관리하는 스레드를 우선 실행하는 정책 등 
	- 자원 활용률(resource efficiency)


## 2. CPU 스케줄링 기본

#### CPU 스케줄링이 실행되는 4가지 상황

#### CPU 스케줄링과 디스패치(dispatch)

#### 선점 스케줄링과 비선점 스케줄링

![[Pasted image 20241007095445.png]]
#### 기아와 에이징

## 3. CPU 스케줄링 알고리즘

#### FCFS(First Come First Served)(비선점 스케줄링)
도착한 순서대로 처리
- 알고리즘 
	- 선입선처리 
		- 먼저 도착한(큐의 맨 앞에 있는) 스레드 먼저 스케줄링 
- 스케줄링 파라미터 : 스레드 별 큐 도착 시간 
- 스케줄링 타입 : 비선점 스케줄링  스레드 우선순위 : 없음 
- 기아 : 발생하지 않음 
	- 스레드가 오류로 인해 무한 루프를 실행한다면, 뒤 스레드 기아 발생 
- 성능 이슈 
	- 처리율 낮음 
	- 호위 효과(convoy effect) 발생 
		- 긴 스레드가 CPU를 오래 사용하면, 늦게 도착한 짧은 스레드 오래 대기

![[Pasted image 20241007100617.png]]
#### Shortest Job First(SJF; 비선점 스케줄링)
가장 짧은 스레드 우선 처리
#### Shortest Remaining Time First(SRTF; 선점 스케줄링)
남은 시간이 짧은 스레드가 준비 큐에 들어오면 이를 우선 처리
#### Round-Robin(RR; 선점 스케줄링)
스레드들을 돌아가면서 할당된 시간(타임 슬라이스)만큼 실행
#### Priority Scheduling(선점/비선점 스케줄링 둘 다 구현 가능)
우선 순위를 기반으로 하는 스케줄링. 가장 높은 순위의 스레드 먼저 실행
#### Multilevel queue scheduling(MLQ; 선점/비선점 스케줄링 둘 다 구현 가능)
스레드와 큐 모두 n개의 우선순위 레벨로 할당, 스레드는 자신의 레벨과 동일한 큐에 삽입 
 높은 순위의 큐에서 스레드 스케줄링, 높은 순위의 큐가 빌 때 아래 순위의 큐에서 스케줄링 
스레드는 다른 큐로 이동하지 못함 
예) background process, Foreground process
#### Multilevel feedback queue scheduling(MLFQ; 선점/비선점 스케줄링 둘 다 구현 가능)
큐만 n개의 우선순위 레벨을 둠. 스레드는 동일한 우선순위 
스레드는 제일 높은 순위의 큐에 진입하고 큐타임슬라이스가 다하면 아래 레벨의 큐로 이동 
낮은 레벨의 큐에 오래 있으면 높은 레벨의 큐로 이동