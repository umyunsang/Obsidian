
---
#### 컨테이너 지우기
```bash
# 종료된 컨테이너 지우기
docker rm [name]

# 실행 중인 컨테이너 강제 지우기
docker rm -f [name]

# 파이프 라인 
docker rm $(docker ps -aq) # 모든 컨테이너 삭제
```
#### MYSQL 설치 및 사용
```bash
# 도커 이미지 설치
docker pull mysql

# mysql은 환경변수 설정이 필수
docker run -d --name [name] -e MYSQL_ROOT_PASSWORD=123 mysql

# 파일로 저장된 환경변수를 불러올 때
docker run -d --name [name] --env-file [name.txt] mysql
```
#### MYSQL 실행
```bash
# -it 옵션 필수
docker exec -it [dbname] bash

# 이후 환경변수 확인
env
```

#### 도커 스토리지
- bind mount : 도커 호스트 디렉터리를 직접 공유하는 방식
- volume : 볼륨을 생성한 후 컨테이너의 디렉터리와 공유하는 방식
- tmpfs : 도커 호스트 메모리에 파일이 저장되는 방식 (영구 저장 x)

```bash
# bin mount
docker run -v [/volume]:[/저장할 디렉토리] [image]

# tmpfs
docker run --tmpfs [path] [image]
```

#### 볼륨 지우기
```bash
docker volume ls

docker volume rm [name]
# 모든 볼륨 지우기
docker volume prune
```
#### 도커 컨테이너 네트워크

![[Pasted image 20250114143924.png]]
- Docker 네트워크 구조를 간단히 정리하면 다음과 같습니다:

1. **컨테이너 내부**
    - **`eth0`**: 컨테이너 내부에 생성되는 네트워크 인터페이스로, 컨테이너의 네트워크 통신을 담당.
2. **도커 호스트 내부**
    - **`docker0`**: Docker 설치 시 생성되는 가상 브리지 인터페이스.
        - 컨테이너와 호스트 간의 네트워크 통신을 연결하는 **다리 역할**을 수행.
    - **`veth`**:
        - 컨테이너의 `eth0`과 도커 호스트의 `docker0`을 연결하는 **가상 인터페이스 페어**.
    - **`en0`**: 도커 호스트가 사용하는 실제 물리적 네트워크 인터페이스.
3. **작동 방식**
    - 컨테이너의 `eth0` ⇔ 호스트의 `veth` ⇔ 호스트의 `docker0`을 통해 통신이 이루어짐.
    - 외부 네트워크와의 통신은 호스트의 `en0`을 통해 처리됨.
