
---
## 1. 네트워크 계층 (3계층)
#### 네트워크 계층의 이해
![[Pasted image 20241104134205.png]]
- 네트워크 계층을 대표하는 프로토콜은 IP-Internet Protocol 
- 인터넷에서 LAN들을 지나 데이터를 전달하기 위해 만든 것이 IP
- **IP가 사용하는 데이터는 패킷-packet **
- ==**네트워크 계층의 가장 중요한 역할은 전송계층에서부터 전달된 데이터를 패킷에 넣어 목적지까지 전달하는 것**==
- 모든 패킷은 하나의 길로만 가지 않음 -> 매 순간 가장 빠르다고 생각되는 길로 **떤 길로 패킷을 보낼지를 결정하는 것이 라우팅 혹은 경로배정
- 경로를 결정하는 방법을 정해 놓은 것이 **라우팅 알고리즘**
- 인터넷에서 LAN과 LAN을 연결하는 기계가 **라우터** 혹은 경로 배정 장치 (3계층 통신 장비)
#### 가상 회선(virtual circuit)
![[Pasted image 20241104134956.png]]
- 라우팅의 목적은 목적지까지 **빠르게 데이터**를 전송하는 것, 그림에서 A, B, C, D, E, F는 라우터
- 라우터와 네트워크 상태는 수시로 바뀜 -> 수시로 변하는 라우터의 상태나 네트워크 선의 상태를 고려하여 가장 빠르다고 생각되는 경로로 패킷을 전송
- 먼저 보낸 패킷이 더 늦게 도착하는 경우도 있고, 어떤 패킷은 길을 잘못 들어 목적지에 도착하지 못함 -> ==**IP의 특징을 best efforts, not guarantee라 부름(최선형 프로토콜)**==

![[Pasted image 20241104135010.png]]
- 가상 사설망은 인터넷 망(패킷 교환망)의 **일정 채널을 빌린 후 독점적으로 사용하는 것**
- 인터넷망 서비스 제공업체는 인터넷 망의 여러 채널 중 **A 회사만 사용할 수 있는 채널을 임대(버스 전용차로)**
- 가상 사설망은 기존의 인터넷 망(패킷 교환망)을 **회선 교환망처럼** 사용
	- 가상 사설망에서는 통신을 하기전에 셋업 단계를 거침
	- 셋업 단계를 거친 후 정해진 경로(A-C-F)로만 패킷을 주고 받을 수 있음
	- 순서가 뒤바뀌거나 사라지는 일은 없음
- 가상 사설망을 이용하여 데이터를 보내는 방식이 **가상회선-virtual circuit**