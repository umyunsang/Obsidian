
---
## 1. 네트워크 계층 (3계층)
#### 네트워크 계층의 이해
![[Pasted image 20241104134205.png]]
- 네트워크 계층을 대표하는 프로토콜은 IP-Internet Protocol 
- 인터넷에서 LAN들을 지나 데이터를 전달하기 위해 만든 것이 IP
- **IP가 사용하는 데이터는 패킷-packet**
- ==**네트워크 계층의 가장 중요한 역할은 전송계층에서부터 전달된 데이터를 패킷에 넣어 목적지까지 전달하는 것**==
- 모든 패킷은 하나의 길로만 가지 않음 -> 매 순간 가장 빠르다고 생각되는 길로 **떤 길로 패킷을 보낼지를 결정하는 것이 라우팅 혹은 경로배정
- 경로를 결정하는 방법을 정해 놓은 것이 **라우팅 알고리즘**
- 인터넷에서 LAN과 LAN을 연결하는 기계가 **라우터** 혹은 경로 배정 장치 (3계층 통신 장비)
#### 가상 회선(virtual circuit)
![[Pasted image 20241104134956.png]]
- 라우팅의 목적은 목적지까지 **빠르게 데이터**를 전송하는 것, 그림에서 A, B, C, D, E, F는 라우터
- 라우터와 네트워크 상태는 수시로 바뀜 -> 수시로 변하는 라우터의 상태나 네트워크 선의 상태를 고려하여 가장 빠르다고 생각되는 경로로 패킷을 전송
- 먼저 보낸 패킷이 더 늦게 도착하는 경우도 있고, 어떤 패킷은 길을 잘못 들어 목적지에 도착하지 못함 -> ==**IP의 특징을 best efforts, not guarantee라 부름(최선형 프로토콜)**==

![[Pasted image 20241104135010.png]]
- 가상 사설망은 인터넷 망(패킷 교환망)의 **일정 채널을 빌린 후 독점적으로 사용하는 것**
- 인터넷망 서비스 제공업체는 인터넷 망의 여러 채널 중 **A 회사만 사용할 수 있는 채널을 임대(버스 전용차로)**
- 가상 사설망은 기존의 인터넷 망(패킷 교환망)을 **회선 교환망처럼** 사용
	- 가상 사설망에서는 통신을 하기전에 셋업 단계를 거침
	- 셋업 단계를 거친 후 정해진 경로(A-C-F)로만 패킷을 주고 받을 수 있음
	- 순서가 뒤바뀌거나 사라지는 일은 없음
- 가상 사설망을 이용하여 데이터를 보내는 방식이 **가상회선-virtual circuit**
- 가상회선 방식은 패킷교환 방식에서 회선교환을 구현한 형태
- 회선교환, 패킷교환, 가상회선 방식이 어떻게 다른지 다음 표로 정리
	![[Pasted image 20241104145919.png]]

## 2. IP 주소 체계와 설정값
#### IP 설정값에는 무엇이 있는가?
- IP 설정 중 IP 할당을 보면 자동(DHCP)으로 되어 있음
	- 서브넷 마스크, 게이트웨이, DNS (용어 정도 기억)

####  IP 주소 체계의 이해
- LAN에 속한 노드들이 사용하는 주소는 6바이트의 MAC 주소
	- 무작위로 배정된 MAC 주소를 **인터넷에서 사용한다고** 가정하면 통신하려는 노드들이 상대방의 MAC 주소와 위치를 모두 기억하고 있어야 함
	- 수억 대에 이르는 노드가 서로의 위치와 주소를 기억하는 것은 불가능 > **IP 주소 필요**
- IP 주소는 **4바이트**로 구성 -> 각 자리의 주소는** 0에서 255까지의 10진수 값**을 가짐
- IP 주소체계는 전화번호와 똑같지는 않지만, 전화번호처럼 지역코드 개념을 도입
- 일반적으로 사용하는 IP 주소는 **전체 4바이트 중 앞의 3바이트는 네트워크 주소**를 나타냄
	![[Pasted image 20241104151814.png]]
- 