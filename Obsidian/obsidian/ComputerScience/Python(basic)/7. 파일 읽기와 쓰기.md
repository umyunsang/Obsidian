
---
### 파일 열기
`open()` 함수는 파일을 열 때 사용되며, 두 가지 주요 인수를 받습니다:
- 파일 경로 (예: "example.txt")
- 모드 (예: "r", "w", "a", "b", "+")

주요 모드는 다음과 같습니다:
- `"r"`: 읽기 모드 (기본값). 파일이 존재해야 함.
- `"w"`: 쓰기 모드. 파일이 존재하면 내용을 지우고, 존재하지 않으면 새 파일을 생성함.
- `"a"`: 추가 모드. 파일이 존재하면 내용을 끝에 추가하고, 존재하지 않으면 새 파일을 생성함.
- `"b"`: 바이너리 모드. 텍스트 파일이 아닌 바이너리 파일을 읽거나 쓸 때 사용함.
- `"+"`: 업데이트 모드. 읽기와 쓰기를 모두 허용함.

### 파일 읽기

#### 1. 전체 파일 읽기
```python
with open("example.txt", "r") as file:
    content = file.read()
    print(content)
```
`with` 구문은 파일을 열고 자동으로 닫아줍니다.

#### 2. 한 줄씩 읽기
```python
with open("example.txt", "r") as file:
    for line in file:
        print(line.strip())
```

#### 3. 특정 크기만큼 읽기
```python
with open("example.txt", "r") as file:
    content = file.read(10)  # 처음 10바이트를 읽음
    print(content)
```

### 파일 쓰기

#### 1. 새로운 파일에 쓰기
```python
with open("example.txt", "w") as file:
    file.write("Hello, world!\n")
    file.write("This is a new file.\n")
```

#### 2. 파일에 내용 추가하기
```python
with open("example.txt", "a") as file:
    file.write("Appending a new line.\n")
```

### 바이너리 파일 읽기 및 쓰기

#### 1. 바이너리 파일 읽기
```python
with open("example.bin", "rb") as file:
    binary_content = file.read()
    print(binary_content)
```

#### 2. 바이너리 파일 쓰기
```python
with open("example.bin", "wb") as file:
    file.write(b'\x00\xFF\xFE\xFD')
```

### 파일 닫기
파일을 열면 꼭 닫아줘야 합니다. `with` 구문을 사용하면 파이썬이 자동으로 파일을 닫아줍니다. 만약 직접 닫아야 할 경우에는 `close()` 메서드를 사용합니다:
```python
file = open("example.txt", "r")
# 파일 작업 수행
file.close()
```

---
### 주제: 파이썬에서 파일 인코딩을 다루는 방법

#### 개요
- **파일 인코딩이란?**
  - 텍스트 데이터를 바이트로 변환하는 방식.
  - 일반적인 인코딩 방식: UTF-8, CP949 (한글 윈도우 전용), ASCII 등.

#### 파일 인코딩 지정
- **기본 인코딩**
  - `open()` 함수는 운영체제의 기본 인코딩을 따름.
  - 파이썬에서는 보통 UTF-8을 기본으로 사용.
- **인코딩 지정 방법**
  - `open()` 함수에서 `encoding` 인자를 사용하여 인코딩을 명시적으로 지정.
  ```python
  fp = open('myfile.txt', 'r', encoding='UTF-8')
  ```

#### 실습 예제
- **파일 읽기**
  ```python
  with open('myfile.txt', 'r', encoding='UTF-8') as fp:
      msg = fp.readline()
      print(msg)
      msg = fp.readline()
      print(msg)
      msg = fp.readline()
      print(msg)
  ```
- **파일 쓰기**
  ```python
  with open('myfile.txt', 'w', encoding='UTF-8') as fp:
      fp.write("안녕하세요\n")
      fp.write("Hello, world!\n")
  ```

#### 다양한 인코딩 처리
- **CP949 (한글 윈도우 전용)**
  ```python
  with open('myfile.txt', 'r', encoding='cp949') as fp:
      msg = fp.readline()
      print(msg)
  ```
- **UTF-8**
  ```python
  with open('myfile.txt', 'r', encoding='utf-8') as fp:
      msg = fp.readline()
      print(msg)
  ```

#### 인코딩 관련 에러 처리
- **UnicodeDecodeError**
  - 파일 인코딩이 잘못 지정되었을 때 발생.
  - 해결 방법: 올바른 인코딩을 지정하거나, 에러 처리 옵션을 추가.
  ```python
  with open('myfile.txt', 'r', encoding='utf-8', errors='ignore') as fp:
      msg = fp.readline()
      print(msg)
  ```
  
#### IDE 설정
- **PyCharm에서의 인코딩 설정**
  - 기본적으로 UTF-8을 사용.
  - 다른 인코딩을 사용할 경우, 파일 인코딩 설정을 변경해야 함.
  
#### 결론
- 파일을 읽거나 쓸 때 인코딩을 명시적으로 지정하는 것이 중요.
- 다양한 인코딩 방식을 이해하고 사용할 수 있어야 함.
- 올바른 인코딩을 사용하면 시스템 간의 호환성 문제를 해결할 수 있음.
