
---
![[Pasted image 20240529124723.png]]

```html
<!DOCTYPE html>
<html><head><meta charset="UTF-8">
<title>다이어리 작성</title>
<style>
    body { background-color: #FAECC5; }
</style></head>
<body>
    <h2>자유롭게 작성하기</h2>
    <form method="get" action="/diary/insert">
        제목: <input type="text" name="je"><p>
        내용:<br>
        <textarea name="nae" rows="4" cols="40"></textarea><p>
        <input type="submit" value="저장">
    </form>
</body>
</html>
```

---
![[Pasted image 20240529125052.png]]

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8">
<title>안내글</title></head>
<body>
    <script th:inline="javascript">
        alert([[${msg}]]);
        location.href="/diary/list";
    </script>
</body>
</html>
```

---
![[Pasted image 20240529125220.png]]

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8">
<title>다이어리 리스트</title>
    <style>
        body { background-color: rgb(225, 255, 255); }
        table { width: 800px; }
        .td1 { color: blue; font-weight: bold; }
        .td2 { color: gray; font-size: 0.8em; }
    </style>
</head>
<body>
    <div align="center">
        <h3>나의 다이어리 리스트</h3>
        <table border="1">
            <tr>
                <th>no <th>제목 <th>내용 <th>작성일시
            <tr th:each="a : ${arr}">
                <td th:text="${a.no}" class="td1">
                <td th:text="${a.je}" class="td1">
                <td th:text="${a.nae}">
                <td th:text="${a.wdate}" class="td2">
        </table><p>
        <a href="/diary">작성 화면으로 돌아가기</a>
    </div>
</body>
</html>
```

---
![[Pasted image 20240529125604.png]]

```sql
drop table if exists diary;
create table diary (
    no int auto_increment primary key ,
    je char(30),
    nae char(100),
    wdate datetime
);

insert into diary (je, nae, wdate) values ('test', 'hello, world!', now());
```

---
![[Pasted image 20240529130036.png]]

```java
package com.web.p5;

@Entity
public class Diary {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY) 
    
    public Integer no;
    public String je;
    public String nae;
    @CreationTimestamp 
    public LocalDateTime wdate;
}
```

`@GeneratedValue(strategy = GenerationType.IDENTITY)`: 
	`이 어노테이션은 우리가 데이터베이스에 데이터를 추가할 때 자동으로 번호를 매기는 기능을 설정합니다. 이 경우, 데이터베이스가 자동으로 번호를 증가시켜줄 것입니다. 그래서 우리는 번호를 따로 지정할 필요가 없습니다.
`
`@CreationTimestamp`: 
	`이 어노테이션은 새로운 데이터를 만들 때 자동으로 그 시간을 저장합니다. 우리는 이 어노테이션을 사용하여 새로운 일기를 작성할 때의 시간을 wdate 필드에 저장할 수 있습니다. 그러면 우리는 직접 시간을 설정할 필요 없이 자동으로 현재 시간이 기록됩니다.`

---
![[Pasted image 20240529130531.png]]
```java
package com.web.p5;

import org.springframework.data.jpa.repository.JpaRepository;

public interface DiaryRep extends JpaRepository<Diary, Integer> {
}
```
`<Diary, Integer>`은 `JpaRepository` 인터페이스를 사용할 때 필요한 두 가지 타입 매개변수입니다.

1. **Diary**: 이것은 엔티티 클래스의 타입입니다. 즉, 우리가 데이터베이스에서 관리하고자 하는 엔티티의 클래스입니다. Spring Data JPA는 이 클래스를 기반으로 데이터베이스와 상호작용합니다. `JpaRepository`를 상속한 인터페이스에서 `Diary` 클래스를 사용하여 어떤 종류의 엔티티를 다룰 것인지를 명시합니다.

2. **Integer**: 이것은 엔티티의 기본 키(primary key)의 타입입니다. 일반적으로 데이터베이스에서 사용하는 기본 키의 타입은 정수형입니다. 따라서 `JpaRepository`를 상속한 인터페이스에서 이 타입을 사용하여 엔티티의 기본 키가 어떤 타입인지를 명시합니다. 대부분의 경우, 기본 키는 정수형이므로 `Integer`를 사용합니다.

---

![[Pasted image 20240529131722.png]]